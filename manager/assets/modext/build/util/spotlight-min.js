Ext.Spotlight=function(A){Ext.apply(this,A)};Ext.Spotlight.prototype={active:false,animate:true,animated:false,duration:0.25,easing:"easeNone",createElements:function(){var A=Ext.getBody();this.right=A.createChild({cls:"x-spotlight"});this.left=A.createChild({cls:"x-spotlight"});this.top=A.createChild({cls:"x-spotlight"});this.bottom=A.createChild({cls:"x-spotlight"});this.all=new Ext.CompositeElement([this.right,this.left,this.top,this.bottom])},show:function(B,C,A){if(this.animated){this.show.defer(50,this,[B,C,A]);return }this.el=Ext.get(B);if(!this.right){this.createElements()}if(!this.active){this.all.setDisplayed("");this.applyBounds(true,false);this.active=true;Ext.EventManager.onWindowResize(this.syncSize,this);this.applyBounds(false,this.animate,false,C,A)}else{this.applyBounds(false,false,false,C,A)}},hide:function(B,A){if(this.animated){this.hide.defer(50,this,[B,A]);return }Ext.EventManager.removeResizeListener(this.syncSize,this);this.applyBounds(true,this.animate,true,B,A)},doHide:function(){this.active=false;this.all.setDisplayed(false)},syncSize:function(){this.applyBounds(false,false)},applyBounds:function(D,C,I,H,J){var G=this.el.getRegion();var A=Ext.lib.Dom.getViewWidth(true);var F=Ext.lib.Dom.getViewHeight(true);var E=0,B=false;if(C){B={callback:function(){E++;if(E==4){this.animated=false;if(I){this.doHide()}Ext.callback(H,J,[this])}},scope:this,duration:this.duration,easing:this.easing};this.animated=true}this.right.setBounds(G.right,D?F:G.top,A-G.right,D?0:(F-G.top),B);this.left.setBounds(0,0,G.left,D?0:G.bottom,B);this.top.setBounds(D?A:G.left,0,D?0:A-G.left,G.top,B);this.bottom.setBounds(0,G.bottom,D?0:G.right,F-G.bottom,B);if(!C){if(I){this.doHide()}if(H){Ext.callback(H,J,[this])}}},destroy:function(){this.doHide();Ext.destroy(this.right,this.left,this.top,this.bottom);delete this.el;delete this.all}};