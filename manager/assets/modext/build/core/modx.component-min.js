MODx.Component=function(A){A=A||{};MODx.Component.superclass.constructor.call(this,A);this.config=A;this._loadForm();this._loadActionButtons();if(this.config.tabs){this._loadTabs()}this._loadComponents()};Ext.extend(MODx.Component,Ext.Component,{fields:{},_loadForm:function(){if(!this.config.form){return false}this.form=new Ext.form.BasicForm(Ext.get(this.config.form),{errorReader:MODx.util.JSONReader});if(this.config.fields){for(var A in this.config.fields){var B=this.config.fields[A];if(B.xtype){B=Ext.ComponentMgr.create(B)}this.fields[A]=B;this.form.add(B)}}this.form.render()},_loadActionButtons:function(){if(!this.config.buttons){return false}this.ab=new MODx.toolbar.ActionButtons({form:this.form||null,formpanel:this.config.formpanel||null,actions:this.config.actions||null,id:this.config.id||null});if(!this.config.buttons){this.config.buttons=[]}var B=this.config.buttons.length;for(var C=0;C<B;C++){var A=this.config.buttons[C];if(A.refresh){A.onComplete=this.ab.refreshTreeNode.createDelegate(this,[A.refresh.tree,A.refresh.node,A.refresh.self||false])}this.ab.create(A)}if(this.config.loadStay){this.ab.loadStay()}},_loadTabs:function(){if(!this.config.tabs){return false}MODx.load({xtype:"modx-tabs",renderTo:this.config.tabs_div||"tabs_div",items:this.config.tabs})},_loadComponents:function(){if(!this.config.components){return false}var A=this.config.components.length;for(var B=0;B<A;B++){Ext.ComponentMgr.create(this.config.components[B])}}});Ext.reg("modx-component",MODx.Component);