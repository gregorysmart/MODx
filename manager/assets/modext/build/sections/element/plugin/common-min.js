Ext.onReady(function(){var A=new Ext.form.TextArea({width:300,grow:true,applyTo:"properties"});A.on("change",function(D,C,B){showParameters($("properties"))})});function setTextWrap(B,A){if(!B){return }B.wrap=(A)?"soft":"off"}var currentParams={};function showParameters(A){var F,B,H,G;var D,E,I,J,C;currentParams={};if(A){f=A.form}tr=$("displayparamrow");dp=(f.properties.value)?f.properties.value.split("&"):"";if(!dp){tr.style.display="none"}else{t='<table width="300" style="margin-bottom:3px;margin-left:14px;background-color:#EEEEEE" cellpadding="2" cellspacing="1"><thead><tr><td width="50%">'+_("parameter")+'</td><td width="50%">'+_("value")+"</td></tr></thead>";for(B=0;B<dp.length;B++){dp[B]=(dp[B]+"").replace(/^\s|\s$/,"");D=dp[B].split("=");J=D[0];D=(D[1]+"").split(";");E=D[0];C=D[1];I=decode((D[2])?D[2]:"");if(J&&C=="list"){currentParams[J]=[E,C,I,D[3]]}else{if(J){currentParams[J]=[E,C,I]}}if(C){switch(C){case"int":F='<input type="text" name="prop_'+J+'" value="'+I+'" size="30" onchange="setParameter(\''+J+"','"+C+"',this)\" />";break;case"menu":I=D[3];F='<select name="prop_'+J+'" style="width:168px" onchange="setParameter(\''+J+"','"+C+"',this)\">";ls=(D[2]+"").split(",");if(currentParams[J]==D[2]){currentParams[J]=ls[0]}for(i=0;i<ls.length;i++){F+='<option value="'+ls[i]+'"'+((ls[i]==I)?' selected="selected"':"")+">"+ls[i]+"</option>"}F+="</select>";break;case"list":I=D[3];ls=(D[2]+"").split(",");if(currentParams[J]==D[2]){currentParams[J]=ls[0]}F='<select name="prop_'+J+'" size="'+ls.length+'" style="width:168px" onchange="setParameter(\''+J+"','"+C+"',this)\">";for(i=0;i<ls.length;i++){F+='<option value="'+ls[i]+'"'+((ls[i]==I)?' selected="selected"':"")+">"+ls[i]+"</option>"}F+="</select>";break;case"list-multi":I=(D[3]+"").replace(/^\s|\s$/,"");arrValue=I.split(",");ls=(D[2]+"").split(",");if(currentParams[J]==D[2]){currentParams[J]=ls[0]}F='<select name="prop_'+J+'" size="'+ls.length+'" multiple="multiple" style="width:168px" onchange="setParameter(\''+J+"','"+C+"',this)\">";for(i=0;i<ls.length;i++){if(arrValue.length){for(j=0;j<arrValue.length;j++){if(ls[i]==arrValue[j]){F+='<option value="'+ls[i]+'" selected="selected">'+ls[i]+"</option>"}else{F+='<option value="'+ls[i]+'">'+ls[i]+"</option>"}}}else{F+='<option value="'+ls[i]+'">'+ls[i]+"</option>"}}F+="</select>";break;case"textarea":F='<textarea name="prop_'+J+'" cols="50" rows="4" onchange="setParameter(\''+J+"','"+C+"',this)\">"+I+"</textarea>";break;default:F='<input type="text" name="prop_'+J+'" value="'+I+'" size="30" onchange="setParameter(\''+J+"','"+C+"',this)\" />";break}t+='<tr><td bgcolor="#FFFFFF" width="50%">'+E+'</td><td bgcolor="#FFFFFF" width="50%">'+F+"</td></tr>"}}t+="</table>";td=$("displayparams");td.innerHTML=t;tr.style.display=""}implodeParameters()}function setParameter(C,E,F){var A;if(!F){return null}switch(E){case"int":F.value=parseInt(F.value);if(isNaN(F.value)){F.value=0}A=F.value;break;case"menu":A=F.options[F.selectedIndex].value;currentParams[C][3]=A;implodeParameters();return ;break;case"list":A=F.options[F.selectedIndex].value;currentParams[C][3]=A;implodeParameters();return ;break;case"list-multi":var D=new Array;for(var B=0;B<F.options.length;B++){if(F.options[B].selected){D.push(F.options[B].value)}}currentParams[C][3]=D.toString();implodeParameters();return ;break;default:A=F.value+"";break}currentParams[C][2]=A;implodeParameters()}function implodeParameters(){var A,C,B="";for(C in currentParams){if(currentParams[C]){A=currentParams[C].join(";");if(B&&A){B+=" "}if(A){B+="&"+C+"="+A}}}}function encode(A){A=A+"";A=A.replace(/\=/g,"%3D");A=A.replace(/\&/g,"%26");return A}function decode(A){A=A+"";A=A.replace(/\%3D/g,"=");A=A.replace(/\%26/g,"&");return A};