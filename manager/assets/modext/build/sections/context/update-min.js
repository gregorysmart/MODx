Ext.onReady(function(){MODx.load({xtype:"page-context-update",context:MODx.request.key})});MODx.page.UpdateContext=function(A){A=A||{};Ext.applyIf(A,{formpanel:"panel-context",actions:{"new":MODx.action["context/create"],edit:MODx.action["context/update"],"delete":MODx.action["context/delete"],cancel:MODx.action["context/view"]},buttons:[{process:"update",text:_("save"),method:"remote",refresh:{tree:"modx_resource_tree",node:"n_"+A.context,self:true},listeners:{click:{fn:function(B,D){var C=Ext.getCmp("grid-context-setting");Ext.apply(this.ab.config.params,{settings:C.encodeModified()})},scope:this},success:function(D,B,C){Ext.getCmp("grid-context-setting").getStore().commitChanges()}},keys:[{key:"s",alt:true,ctrl:true}]},"-",{process:"cancel",text:_("cancel"),params:{a:MODx.action.context}}],components:[{xtype:"panel-context",id:"panel-context",renderTo:"panel-context",context:A.context}]});MODx.page.UpdateContext.superclass.constructor.call(this,A)};Ext.extend(MODx.page.UpdateContext,MODx.Component);Ext.reg("page-context-update",MODx.page.UpdateContext);