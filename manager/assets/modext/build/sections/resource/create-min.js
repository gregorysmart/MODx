MODx.page.CreateResource=function(A){A=A||{};Ext.applyIf(A,{url:MODx.config.connectors_url+"resource/document.php",formpanel:"panel-resource",which_editor:"none",actions:{"new":MODx.action["resource/create"],edit:MODx.action["resource/update"],cancel:MODx.action.welcome},buttons:[{process:"create",text:_("save"),method:"remote",javascript:A.which_editor!="none"?"cleanupRTE('"+A.which_editor+"');":";",listeners:{click:{fn:function(B,D){var C=Ext.getCmp("grid-resource-security");Ext.apply(this.ab.config.params,{resource_groups:C.encodeModified()})},scope:this},success:function(E,C,D){Ext.getCmp("grid-resource-security").getStore().commitChanges();var B=parent.Ext.getCmp("modx_document_tree");B.refresh()}},keys:[{key:"s",alt:true,ctrl:true}]},{process:"cancel",text:_("cancel"),params:{a:MODx.action.welcome}}],loadStay:true,components:[{xtype:"panel-resource",renderTo:"panel-resource",resource:0,class_key:A.class_key,publish_document:A.publish_document,edit_doc_metatags:A.edit_doc_metatags,access_permissions:A.access_permissions,template:A.template,parent:A.parent},{xtype:"grid-resource-security",renderTo:"grid-resource-security",id:"grid-resource-security"},{xtype:"panel-resource-tv",id:"panel-resource-tv",class_key:A.class_key,resource:0}],tabs:[{contentEl:"tab_content",title:_("document_content")}]});MODx.page.CreateResource.superclass.constructor.call(this,A)};Ext.extend(MODx.page.CreateResource,MODx.Component);Ext.reg("page-resource-create",MODx.page.CreateResource);