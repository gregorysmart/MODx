MODx.grid.LexiconFoci=function(A){A=A||{};Ext.applyIf(A,{title:_("lexicon_foci"),url:MODx.config.connectors_url+"workspace/lexicon/focus.php",fields:["id","name","namespace","menu"],baseParams:{action:"getList",namespace:"core"},width:"97%",paging:true,autosave:true,primaryKey:"name",columns:[{header:_("name"),dataIndex:"name",width:200,sortable:true},{header:_("namespace"),dataIndex:"namespace",width:500,sortable:false,editor:{xtype:"combo-namespace",renderer:true}}],tbar:[{xtype:"combo-namespace",name:"namespace",id:"lf_filter_namespace",value:"core",listeners:{change:{fn:this.filter.createDelegate(this,["namespace"],true),scope:this}}},"->",{text:_("search_by_key")},{xtype:"textfield",name:"name",id:"lf_filter_name",listeners:{change:{fn:this.filter.createDelegate(this,["name"],true),scope:this},render:{fn:function(B){B.getEl().addKeyListener(Ext.EventObject.ENTER,function(){B.fireEvent("change")},this)}}}},{text:_("create_new"),xtype:"button",menu:[{text:_("focus"),handler:this.loadWindow2.createDelegate(this,["window-lexicon-focus-create"],true),scope:this},{text:_("namespace"),handler:this.loadWindow2.createDelegate(this,["window-namespace-create"],true),scope:this}]}]});MODx.grid.LexiconFoci.superclass.constructor.call(this,A)};Ext.extend(MODx.grid.LexiconFoci,MODx.grid.Grid,{filter:function(A,B,D,C){if(!C){return false}this.store.baseParams[C]=B;this.refresh()},loadWindow2:function(A,B,C){this.menu.record={namespace:Ext.getCmp("lf_filter_namespace").getValue()};this.loadWindow(A,B,{xtype:C})}});Ext.reg("grid-lexicon-foci",MODx.grid.LexiconFoci);MODx.window.CreateLexiconFocus=function(A){A=A||{};var B=A.record;Ext.applyIf(A,{title:_("focus_create"),url:MODx.config.connectors_url+"workspace/lexicon/focus.php",action:"create",fields:[{xtype:"textfield",fieldLabel:_("name"),name:"name",width:250,maxLength:100},{xtype:"combo-namespace",fieldLabel:_("namespace"),name:"namespace",value:B.namespace}]});MODx.window.CreateLexiconFocus.superclass.constructor.call(this,A)};Ext.extend(MODx.window.CreateLexiconFocus,MODx.Window);Ext.reg("window-lexicon-focus-create",MODx.window.CreateLexiconFocus);