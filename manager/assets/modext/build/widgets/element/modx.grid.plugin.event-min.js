MODx.grid.PluginEvent=function(A){A=A||{};Ext.applyIf(A,{title:_("system_events"),url:MODx.config.connectors_url+"element/plugin/event.php",baseParams:{action:"getList",id:A.plugin},saveParams:{plugin:A.plugin},fields:["id","name","service","groupname","enabled","priority","menu"],paging:true,remoteSort:true,columns:[{header:_("id"),dataIndex:"id",width:80,sortable:true},{header:_("name"),dataIndex:"name",width:150,sortable:true},{header:_("enabled"),dataIndex:"enabled",width:100,editor:{xtype:"combo-boolean",renderer:"boolean"}},{header:_("priority"),dataIndex:"priority",width:100,editor:{xtype:"textfield",allowBlank:false}}],tbar:[{xtype:"textfield",name:"name_filter",id:"name_filter",emptyText:_("filter_by_name"),listeners:{change:{fn:this.filterByName,scope:this},render:{fn:function(B){B.getEl().addKeyListener(Ext.EventObject.ENTER,function(){B.fireEvent("change")},this)}}}}]});MODx.grid.PluginEvent.superclass.constructor.call(this,A)};Ext.extend(MODx.grid.PluginEvent,MODx.grid.Grid,{filterByName:function(C,B,A){this.getStore().baseParams={action:"getList",name:B,id:this.config.plugin};this.getStore().load({params:{start:0,limit:20},scope:this,callback:this.refresh})}});Ext.reg("grid-plugin-event",MODx.grid.PluginEvent);