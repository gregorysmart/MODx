MODx.Msg=function(A){A=A||{};this.sl=new Ext.Spotlight({easing:"easeOut",duration:0.3});MODx.Msg.superclass.constructor.call(this,A)};Ext.extend(MODx.Msg,Ext.Component,{sl:null,confirm:function(A){Ext.Msg.confirm(A.title||_("warning"),A.text,function(B){this.sl.hide();if(B=="yes"){Ext.Ajax.request({url:A.connector||A.url,params:A.params||{},method:"post",scope:A.scope||this,success:function(C,D){C=Ext.decode(C.responseText);if(C.success&&A.success){Ext.callback(A.success,A.scope||this,[C,D])}else{MODx.form.Handler.errorJSON(C)}},failure:function(C,D){C=Ext.decode(C.responseText);MODx.form.Handler.errorJSON(C)}})}},this);this.sl.show(this.getWindow().getEl())},getWindow:function(){return Ext.Msg.getDialog()},alert:function(D,C,B,A){A=A||this;if(typeof (B)!="function"){B=function(){this.sl.hide()}}else{B=B.createInterceptor(function(){this.sl.hide();return true},this)}Ext.Msg.alert(D,C,B,A);this.sl.show(this.getWindow().getEl())}});Ext.reg("modx-msg",MODx.Msg);