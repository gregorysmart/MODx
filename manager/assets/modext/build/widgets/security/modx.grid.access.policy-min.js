MODx.grid.AccessPolicy=function(A){A=A||{};Ext.applyIf(A,{title:_("policies"),url:MODx.config.connectors_url+"security/access/policy.php",fields:["id","name","description","class","data","parent","menu"],paging:true,autosave:true,columns:[{header:_("id"),dataIndex:"id",width:40},{header:_("policy_name"),dataIndex:"name",width:200,editor:{xtype:"textfield",allowBlank:false}},{header:_("description"),dataIndex:"description",width:375,editor:{xtype:"textfield"}}],tbar:[{text:_("add"),scope:this,handler:{xtype:"window-accesspolicy-create"}}]});MODx.grid.AccessPolicy.superclass.constructor.call(this,A)};Ext.extend(MODx.grid.AccessPolicy,MODx.grid.Grid,{editPolicy:function(B,A){location.href="?a="+MODx.action["security/access/policy/update"]+"&id="+this.menu.record.id}});Ext.reg("grid-accesspolicy",MODx.grid.AccessPolicy);MODx.window.CreateAccessPolicy=function(A){A=A||{};Ext.applyIf(A,{width:400,title:_("policy_create"),url:MODx.config.connectors_url+"security/access/policy.php",action:"create",fields:[{fieldLabel:_("name"),name:"name",xtype:"textfield",width:200},{fieldLabel:_("description"),name:"description",xtype:"textarea",width:230,height:50},{name:"class",xtype:"hidden"},{name:"id",xtype:"hidden"}]});MODx.window.CreateAccessPolicy.superclass.constructor.call(this,A)};Ext.extend(MODx.window.CreateAccessPolicy,MODx.Window);Ext.reg("window-accesspolicy-create",MODx.window.CreateAccessPolicy);