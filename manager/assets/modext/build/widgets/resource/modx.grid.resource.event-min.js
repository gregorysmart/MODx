MODx.grid.ResourceEvent=function(A){A=A||{};Ext.applyIf(A,{title:_("site_schedule"),url:MODx.config.connectors_url+"resource/event.php",baseParams:{action:"getList",mode:"pub_date"},fields:["id","pagetitle","class_key",{name:"pub_date",type:"date",format:"D M d, Y"},{name:"unpub_date",type:"date",format:"D M d, Y"},"menu"],paging:true,autosave:true,columns:[{header:_("id"),dataIndex:"id",width:40},{header:_("pagetitle"),dataIndex:"pagetitle",width:40},{header:_("publish_date"),dataIndex:"pub_date",width:150,editor:{xtype:"datefield",format:"D M d, Y"}},{header:_("unpublish_date"),dataIndex:"unpub_date",width:150,editor:{xtype:"datefield",format:"D M d, Y"}}],tbar:[{text:_("showing_pub"),scope:this,handler:this.toggle,enableToggle:true,tooltip:_("click_to_change"),id:"btn-toggle"}]});MODx.grid.ResourceEvent.superclass.constructor.call(this,A)};Ext.extend(MODx.grid.ResourceEvent,MODx.grid.Grid,{toggle:function(A,C){var A=Ext.getCmp("btn-toggle");var B=this.getStore();if(A.pressed){B.baseParams.mode="unpub_date";A.setText(_("showing_unpub"))}else{B.baseParams.mode="pub_date";A.setText(_("showing_pub"))}B.reload()}});Ext.reg("grid-resource-event",MODx.grid.ResourceEvent);